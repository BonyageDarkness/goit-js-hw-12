{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(query) {\n  const apiKey = '44822574-4b43621c9303530917b2f490d';\n  const apiUrl = `https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(apiUrl).then(response => response.json());\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function displayImages(images) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = ''; // Clear previous images\n\n  if (images.length === 0) {\n    iziToast.info({\n      title: 'Info',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n    return;\n  }\n\n  images.forEach(image => {\n    const galleryItem = document.createElement('div');\n    galleryItem.className = 'gallery-item';\n\n    const link = document.createElement('a');\n    link.href = image.largeImageURL;\n    link.setAttribute('data-lightbox', 'gallery');\n    link.setAttribute('target', '_blank'); // Открытие изображения в новом окне\n\n    const img = document.createElement('img');\n    img.src = image.webformatURL;\n    img.alt = image.tags;\n\n    link.appendChild(img);\n    galleryItem.appendChild(link);\n\n    const infoStatsContainer = document.createElement('div');\n    infoStatsContainer.className = 'info-stats-container';\n\n    const infoLabels = ['Likes', 'Views', 'Comments', 'Downloads'];\n    const infoValues = [\n      image.likes,\n      image.views,\n      image.comments,\n      image.downloads,\n    ];\n\n    infoLabels.forEach((label, index) => {\n      const infoBlock = document.createElement('div');\n      infoBlock.className = 'info-block';\n\n      const info = document.createElement('div');\n      info.className = 'info';\n      info.textContent = label;\n\n      const stats = document.createElement('div');\n      stats.className = 'stats';\n      stats.textContent = infoValues[index];\n\n      infoBlock.appendChild(info);\n      infoBlock.appendChild(stats);\n      infoStatsContainer.appendChild(infoBlock);\n    });\n\n    galleryItem.appendChild(infoStatsContainer);\n    gallery.appendChild(galleryItem);\n  });\n\n  document.getElementById('gallery').classList.remove('hidden');\n\n  // Refresh SimpleLightbox\n  const lightbox = new SimpleLightbox('.gallery a');\n  lightbox.refresh();\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport { displayImages } from './js/render-functions.js';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iziToast from 'izitoast';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  document\n    .getElementById('search-button')\n    .addEventListener('click', function () {\n      const searchInput = document.getElementById('search-input').value.trim();\n\n      if (searchInput === '') {\n        iziToast.error({\n          title: 'Error',\n          message: 'Search input cannot be empty',\n        });\n        return;\n      }\n\n      document.getElementById('loading').style.display = 'block';\n      document.getElementById('gallery').classList.add('hidden');\n      document.querySelector('.gallery').innerHTML = '';\n\n      fetchImages(searchInput)\n        .then(data => {\n          document.getElementById('loading').style.display = 'none';\n\n          displayImages(data.hits);\n        })\n        .catch(error => {\n          document.getElementById('loading').style.display = 'none';\n          console.error('Fetch error:', error);\n          iziToast.error({\n            title: 'Error',\n            message: 'Failed to fetch images. Please try again later.',\n          });\n        });\n    });\n});\n"],"names":["fetchImages","query","apiUrl","response","displayImages","images","gallery","image","galleryItem","link","img","infoStatsContainer","infoLabels","infoValues","label","index","infoBlock","info","stats","SimpleLightbox","searchInput","iziToast","data","error"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CAEjC,MAAMC,EAAS,qEAA4CD,CAAK,2DAEhE,OAAO,MAAMC,CAAM,EAAE,KAAKC,GAAYA,EAAS,KAAI,CAAE,CACvD,CCFO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAGjD,GAFAA,EAAQ,UAAY,GAEhBD,EAAO,SAAW,EAAG,CACvB,SAAS,KAAK,CACZ,MAAO,OACP,QACE,0EACR,CAAK,EACD,MACD,CAEDA,EAAO,QAAQE,GAAS,CACtB,MAAMC,EAAc,SAAS,cAAc,KAAK,EAChDA,EAAY,UAAY,eAExB,MAAMC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,KAAOF,EAAM,cAClBE,EAAK,aAAa,gBAAiB,SAAS,EAC5CA,EAAK,aAAa,SAAU,QAAQ,EAEpC,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMH,EAAM,aAChBG,EAAI,IAAMH,EAAM,KAEhBE,EAAK,YAAYC,CAAG,EACpBF,EAAY,YAAYC,CAAI,EAE5B,MAAME,EAAqB,SAAS,cAAc,KAAK,EACvDA,EAAmB,UAAY,uBAE/B,MAAMC,EAAa,CAAC,QAAS,QAAS,WAAY,WAAW,EACvDC,EAAa,CACjBN,EAAM,MACNA,EAAM,MACNA,EAAM,SACNA,EAAM,SACZ,EAEIK,EAAW,QAAQ,CAACE,EAAOC,IAAU,CACnC,MAAMC,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,UAAY,aAEtB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAY,OACjBA,EAAK,YAAcH,EAEnB,MAAMI,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,UAAY,QAClBA,EAAM,YAAcL,EAAWE,CAAK,EAEpCC,EAAU,YAAYC,CAAI,EAC1BD,EAAU,YAAYE,CAAK,EAC3BP,EAAmB,YAAYK,CAAS,CAC9C,CAAK,EAEDR,EAAY,YAAYG,CAAkB,EAC1CL,EAAQ,YAAYE,CAAW,CACnC,CAAG,EAED,SAAS,eAAe,SAAS,EAAE,UAAU,OAAO,QAAQ,EAG3C,IAAIW,EAAe,YAAY,EACvC,QAAO,CAClB,CChEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,SACG,eAAe,eAAe,EAC9B,iBAAiB,QAAS,UAAY,CACrC,MAAMC,EAAc,SAAS,eAAe,cAAc,EAAE,MAAM,OAElE,GAAIA,IAAgB,GAAI,CACtBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACnB,CAAS,EACD,MACD,CAED,SAAS,eAAe,SAAS,EAAE,MAAM,QAAU,QACnD,SAAS,eAAe,SAAS,EAAE,UAAU,IAAI,QAAQ,EACzD,SAAS,cAAc,UAAU,EAAE,UAAY,GAE/CrB,EAAYoB,CAAW,EACpB,KAAKE,GAAQ,CACZ,SAAS,eAAe,SAAS,EAAE,MAAM,QAAU,OAEnDlB,EAAckB,EAAK,IAAI,CACjC,CAAS,EACA,MAAMC,GAAS,CACd,SAAS,eAAe,SAAS,EAAE,MAAM,QAAU,OACnD,QAAQ,MAAM,eAAgBA,CAAK,EACnCF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iDACrB,CAAW,CACX,CAAS,CACT,CAAK,CACL,CAAC"}